<figure style="display: flex; ">
    <img src="https://notion-emojis.s3-us-west-2.amazonaws.com/prod/svg-twitter/1f9f6.svg" width="100" style="margin-right: 1px;" />
    <figcaption style="max-width: 700px; white-space: normal;">
        <h1 style="margin: 0;">关于多模块处理打包问题</h1>
        <span>💡 Tips!: 是一个简单的小问题，但是在测试之初，没注意到这点，又查看了资料和C**N之后，发现解决的很复杂，所以才有了以下的尝试，所幸成功了</span>
    </figcaption>
</figure>



在没有主类的项目文件(也就是依赖项目中)，让依赖项目作为聚合项目，不生成JAR或者WAR文件，作为一个聚合和依赖管理的工具，帮助组织和构建多个模块。

以下作为参考学习，假设结构如下

```sql
A<父>
├── A.xml
├── B<子>
│   └── pom.xml
├── C
│   └── pom.xml
├── D
│   └── pom.xml
├── E
│   └── pom.xml
├── F
│   └── pom.xml
├── G
│   └── pom.xml
└── H
    └── pom.xml
```

```sql
假设只有D有 `@SpringbootApplication` 主类启动,那么对于没有主启动类，如果报出下面分析中的问题，
加入以下即可

<packaging>pom</packaging> 
```

然后再在你的主类，也就是启动项目中放置打包插件，并指向主类

```sql
   <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <configuration>
                    <mainClass>com.pms.RestApplication</mainClass>
                </configuration>
            </plugin>
        </plugins>
    </build>
```

在父类中加入

```sql
    <build>
        <plugins>
            <plugin>
                <groupId>org.springframework.boot</groupId>
                <artifactId>spring-boot-maven-plugin</artifactId>
                <executions>
                    <execution>
                        <goals>
                            <goal>repackage</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
        </plugins>
    </build>
```

## 分析

在没有加入pom之前的错误参考如下

```bash
[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.3.2:repackage (repackage) on project pms-common: Execution repackage of goal org.springframework.boot:spring-boot-maven-plugin:3.3.2:repackage failed: Unable to find main class -> [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException
[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <args> -rf :pms-common
```